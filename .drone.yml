kind: pipeline
name: Signature Drone

steps:
 - name: compile
   image: ubuntu:20.04
   environment:
     
   commands:
      - apt-get -y update && apt-get -y upgrade && apt-get -y install ca-certificates
      - export DEBIAN_FRONTEND=noninteractive && apt-get -y update && apt-get -y upgrade && apt-get -y install tzdata git automake lzop bison gperf build-essential zip curl zlib1g-dev g++-multilib libxml2-utils bzip2 libbz2-dev libbz2-1.0 libghc-bzlib-dev squashfs-tools pngcrush schedtool dpkg-dev liblz4-tool make optipng bc libstdc++6 wget python3 python3-pip python gcc clang libssl-dev rsync flex git-lfs libz3-dev libz3-4 axel
      - ln -fs /usr/share/zoneinfo/Asia/Jakarta /etc/localtime
      - dpkg-reconfigure --frontend noninteractive tzdata
      - python3 -m pip  install networkx
      - git config --global user.name "fajar4561"
      - git config --global user.email "maulanafajar751@gmail.com"
      - git clone https://github.com/fajar4561/Signature-Kernel-CAF.git -b master kernel && cd kernel
      - curl https://raw.githubusercontent.com/fajar4561/myscripts/master/sotod/caf.sh > run.sh
      - source run.sh
